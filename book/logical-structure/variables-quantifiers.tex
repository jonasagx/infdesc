% !TeX root = ../../infdesc.tex
\section{Variables and quantifiers}
\secbegin{secVariablesQuantifiers}

\subsection*{Variáveis ​​livres e vinculadas}

Tudo o que fizemos em \Cref{secPropositionalLogic} em questão \textit{propositions} e as regras lógicas relativas às suas provas. Infelizmente, se tudo o que temos para trabalhar são proposições, então a nossa capacidade de fazer raciocínio matemático será interrompida muito rapidamente. Por exemplo, considere a seguinte afirmação:
\begin{center}
$x$ is divisible by $7$
\end{center}
Esta afirmação parece ser o tipo de coisa com a qual provavelmente deveríamos ser capazes de trabalhar se estivéssemos fazendo matemática. Faz sentido se $x$ for um número inteiro, como $28$ ou $41$; mas não faz nenhum sentido se $x$ for um papagaio chamado Alex.\footnote{Alex, o papagaio, é o único animal não-humano que já foi observado fazendo uma pergunta existencial; ele morreu em setembro de 2007, então talvez nunca saibamos se ele era divisível por US$ 7,00, mas é improvável. De acordo com a \textit{Time}, suas últimas palavras foram `você se comporta bem, até amanhã, eu te amo'. O leitor é aconselhado a parar de chorar antes de continuar lendo sobre variáveis ​​e quantificadores.} Em qualquer caso, mesmo quando faz sentido, seu valor verdade depende de $x$; na verdade, “$28$ é divisível por $7$” é uma proposição verdadeira, mas “$41$ é divisível por $7$” é uma proposição falsa.

Isso significa que a afirmação `$x$ é divisível por $7$' não é uma proposição---\textit{quel horreur}! Mas \textit{quase} é uma proposição: se sabemos que $x$ se refere de alguma forma a um número inteiro, então ela se torna uma proposição assim que um valor numérico particular de $x$ é especificado. O símbolo $x$ é chamado de \textit{variável livre}.

\begin{definition}
\label{defFreeVariable}
\index{free variable}
\index{bound variable}
\index{variable!free}
\index{variable!bound}
Seja $x$ uma variável que se refere a um elemento de um conjunto $X$. Numa declaração envolvendo $x$, dizemos que $x$ é \textbf{livre} se faz sentido substituir elementos particulares de $X$ na declaração; caso contrário, dizemos que $x$ está \textbf{vínculado}.
\end{definition}

Para representar abstratamente declarações que contêm variáveis ​​livres, generalizamos a noção de uma variável proposicional (\Cref{defPropositionalVariable}) para a de um \textit{predicado}.

\begin{definition}
\label{defPredicate}
\index{predicate}
\index{domain of discourse}
\index{range!of a variable}
Um \textbf{predicado} é um símbolo $p$ junto com uma lista especificada de variáveis ​​livres $x_1, x_2, \dots, x_n$ (onde $n \in \mathbb{N}$) e, para cada variável livre $ x_i$, uma especificação de um conjunto $X_i$ chamado \textbf{domínio do discurso} (ou \textbf{intervalo}) de $x_i$. Normalmente escreveremos $p(x_1,x_2,\dots,x_n)$ para tornar as variáveis ​​explícitas.
\end{definition}

Os enunciados representados por predicados são aqueles que se tornam proposições quando valores específicos são substituídos por suas variáveis ​​livres de seus respectivos domínios de discurso. Por exemplo, `$x$ é divisível por $7$' não é uma proposição, mas se torna uma proposição quando números inteiros específicos (como $28$ ou $41$) são substituídos por $x$.

This is a lot to take in, so let's look at some examples.

\begin{example}
\label{exFirstExamplesOfPredicates}
\fixlistskip
\begin{enumerate}[(i)]
\item Podemos representar a afirmação `xx é divisível por 77' discutida acima por um predicado p(x)p(x) cuja única variável livre xx tem Z\mathbb{Z} como seu domínio de discurso. Então p(28)p(28) é a proposição verdadeira `2828 é divisível por 77' e p(41)p(41) é a proposição falsa `4141 é divisível por 77'.
\item Um predicado sem variáveis ​​livres é precisamente uma variável proposicional. Isso significa que a noção de predicado generaliza a de variável proposicional.
\item A expressão `$2^n-1$ é primo' pode ser representada por um predicado $p(n)$ com uma variável livre $n$, cujo domínio de discurso é o conjunto $\mathbb{N}$ de números. Então $p(3)$ é a proposição verdadeira `$2^3-1$ é primo' e $p(4)$ é a proposição falsa `$2^4-1$ é primo'.
\item A expressão `$x-y$ é racional' pode ser representada por um predicado $q(x,y)$ com variáveis ​​livres $x$ e $y$, cujo domínio de discurso é o conjunto $\mathbb{R}$ de números reais.
\item A expressão `existem inteiros $a$ e $b$ tais que $x = a^2+b^2$' tem variável livre $x$ e variáveis ​​vinculadas $a,b$. Pode ser representado por um predicado $r(x)$ com uma variável livre $x$, cujo domínio de discurso é $\mathbb{Z}$.
\item A expressão `todo número natural par $n \ge 2$ é divisível por $k$' tem variável livre $k$ e variável vinculada $n$. Pode ser representado por um predicado $s(k)$ com uma variável livre $k$, cujo domínio de discurso é $\mathbb{N}$.
\end{enumerate}
\end{example}



\subsection*{Quantificadores}

Veja novamente as declarações nas partes (v) e (vi) de \Cref{exFirstExamplesOfPredicates}. Ambos continham variáveis ​​vinculadas, o que acontecia porque usamos palavras como `existe' e `todo' --- se não tivéssemos usado essas palavras, essas variáveis ​​seriam livres, como em `$x=a^2+b^2 $' e `$n$ é divisível por $k$'.

Expressões que se referem a \textit{quantos} elementos de um conjunto tornam uma afirmação verdadeira, como 'existe' e 'todos', transformam variáveis ​​livres em variáveis ​​ligadas. Representamos tais expressões usando símbolos chamados \textit{quantificadores}, que são os objetos centrais de estudo desta seção.

Os dois principais quantificadores usados ​​em toda a matemática são o quantificador \textit{universal} $\forall$ e o quantificador \textit{existencial} $\exists$. Definiremos esses quantificadores formalmente mais adiante nesta seção, mas por enquanto, as seguintes definições informais são suficientes:

\begin{itemize}
\item A expressão `$\forall x \in X,\, \dots{}$' denota `para todo $x \in X$, \dots{}' e será definida formalmente em \Cref{defUniversalQuantifier};
\item A expressão `$\exists x \in X,\, \dots{}$' denota `existe $x \in X$ tal que \dots{}' e será definida formalmente em \Cref{defExistentialQuantifier}.
\end{itemize}

Observe que sempre colocamos o quantificador \textit{antes} da declaração, portanto, mesmo que possamos escrever ou dizer coisas como `$n=2k$ para algum número inteiro $k$' ou `$x^2 \ge 0$ para todos $x \in \mathbb{R}$', expressaríamos essas declarações simbolicamente como `$\exists k \in \mathbb{Z},\, n=2k$' e `$\forall x \in \mathbb{ R},\, x^2 \ge 0$', respectivamente.

Definiremos um terceiro quantificador $\exists !$ em termos de $\forall$ e $\exists$ para dizer que existe \textit{exatamente um} elemento de um conjunto que torna uma afirmação verdadeira. Existem muitos outros quantificadores por aí, mas eles tendem a ser específicos para campos específicos - exemplos incluem "quase em todos os lugares" na teoria da medida, "quase certamente" na teoria da probabilidade, "para todos, exceto um número finito" na teoria dos conjuntos e disciplinas relacionadas e “para novidades” na teoria dos conjuntos nominais.

Usando predicados, fórmulas lógicas e quantificadores, podemos construir expressões mais complicadas, chamadas \textit{fórmulas lógicas}. As fórmulas lógicas generalizam as fórmulas proposicionais (\Cref{defPropositionalFormula}) permitindo que variáveis ​​​​(livres e vinculadas) e quantificação ocorram.
\begin{definition}
\label{defLogicalFormula}
\index{logical formula}
Uma \textbf{fórmula lógica} é uma expressão construída a partir de predicados usando operadores lógicos e quantificadores; pode ter variáveis ​​livres e vinculadas. O valor verdade de uma fórmula lógica depende de suas variáveis ​​livres de acordo com as regras para operadores lógicos e quantificadores.
\end{definition}

Traduzir entre declarações simples em inglês e fórmulas lógicas puramente simbólicas é uma habilidade importante a ser obtida:
\begin{itemize}
\item As declarações simples em inglês são mais fáceis de entender e são o tipo de coisas que você falaria em voz alta ou escreveria ao discutir as ideias matemáticas envolvidas.
\item As fórmulas lógicas simbólicas são o que fornecem a precisão necessária para guiar uma prova da afirmação que está sendo discutida --- veremos estratégias para provar afirmações envolvendo quantificad
\end{itemize}

Os exemplos e exercícios a seguir referem-se à tradução entre declarações simples em inglês e fórmulas lógicas puramente simbólicas.
\begin{example}
Lembre-se de que um inteiro $n$ é par se e somente se for divisível por $2$. De acordo com \Cref{defDivisionPreliminary}, isso quer dizer que `$n$ é par' significa `$n=2k$ para algum inteiro $k$'. Usando quantificadores, podemos expressar `$n$ é par' como `$\exists k \in \mathbb{Z},\, n=2k$'.

A proposição (falsa) “todo número inteiro é par” pode então ser escrita simbolicamente como segue. Primeiro introduza uma variável $n$ para se referir a um número inteiro; dizer que 'todo número inteiro é par' é dizer que `$\forall n \in \mathbb{Z},\, n \text{ é par}$' e, portanto, usar a representação simbólica de `$n$ é par' , podemos expressar `todo número inteiro é par' como $\forall n \in \mathbb{Z},\, \exists k \in \mathbb{Z},\, n=2k$'.
\end{example}

\begin{exercise}
\label{exEnglishToLogicalFormulae}
Encontre fórmulas lógicas que representem cada uma das seguintes afirmações em inglês.
\begin{enumerate}[(a)]
\item Existe um número inteiro que é divisível por todo número inteiro.
\item Não existe maior número inteiro ímpar.
\item Entre quaisquer dois números racionais distintos existe um terceiro número racional distinto.
\item Se um número inteiro tem uma raiz quadrada racional, então essa raiz é um número inteiro.
\end{enumerate}
\end{exercise}

\begin{example}
Considere a seguinte fórmula lógica.

\[\forall a \in \mathbb{R},\, (a \ge 0 \Rightarrow \exists b \in \mathbb{R},\, a = b^2)\]

Se traduzirmos esta expressão símbolo por símbolo, o que ela diz é:
\begin{center}
Para cada número real $a$, se $a$ for não negativo,\\
então existe um número real $b$ tal que $a=b^2$.
\end{center}

Lida desta forma, não é uma afirmação particularmente esclarecedora. Contudo, podemos destilar a natureza robótica da leitura símbolo por símbolo pensando mais cuidadosamente sobre o que a afirmação \textit{realmente} significa.

Na verdade, dizer `$a = b^2$ para algum número real $b$' é exatamente dizer que $a$ tem uma raiz quadrada real --- afinal, o que é uma raiz quadrada de $a$ se não um número real cujo quadrado é igual a $a$? Esta tradução elimina a referência explícita à variável vinculada $b$, de modo que a instrução agora é:

\begin{center}
Para cada número real $a$, se $a$ for não negativo, então $a$ terá uma raiz quadrada real.
\end{center}


Estamos nos aproximando. Em seguida, observe que em vez da expressão desajeitada `para cada número real $a$, se $a$ for não negativo, então \dots{}', poderíamos apenas dizer `para cada número real não negativo $a$, \dots{}'.

\begin{center}
Para todo número real não negativo $a$, $a$ tem uma raiz quadrada real.
\end{center}

Finalmente, podemos eliminar a variável vinculada $a$ simplesmente dizendo:

\begin{center}
Todo número real não negativo tem uma raiz quadrada real.
\end{center}

Esta é agora uma expressão significativa que é muito mais fácil de entender do que a fórmula lógica com a qual começamos.
\end{example}

\begin{exercise}
\label{exLogicalFormulaeToEnglish}
Encontre declarações em linguagem simples, envolvendo o menor número possível de variáveis, que sejam representadas por cada uma das seguintes fórmulas lógicas. (Os domínios de discurso das variáveis ​​livres são indicados em cada caso.)
\begin{enumerate}[(a)]
\item $\exists q \in \mathbb{Z},\, a = qb$ --- free variables $a, b \in \mathbb{Z}$
\item $\exists a \in \mathbb{Z},\, \exists b \in \mathbb{Z},\, (b \ne 0 \wedge bx = a)$ --- free variable $x \in \mathbb{R}$
\item $\forall d \in \mathbb{N},\, [(\exists q \in \mathbb{Z},\, n=qd) \Rightarrow (d = 1 \vee d = n)]$ --- variável livre $n \in \mathbb{N}$
\item $\forall a \in \mathbb{R},\, [a > 0 \Rightarrow \exists b \in \mathbb{R},\, (b > 0 \wedge a < b)]$ --- sem variáveis ​​livres
\end{enumerate}
\end{exercise}

Agora que entendemos melhor como traduzir declarações simples em inglês e fórmulas lógicas, estamos prontos para fornecer um tratamento matemático preciso dos quantificadores. Assim como com os operadores lógicos em \Cref{secPropositionalLogic}, os quantificadores serão definidos de acordo com \textit{regras de introdução}, que nos dizem como provar uma fórmula quantificada, e \textit{regras de eliminação}, que nos dizem como usar uma fórmula quantificada. suposição que envolve um quantificador.

\subsubsection*{Quantificação universal (`para todos', $\forall$)}

The universal quantifier makes precise what we mean when we say `for all', or `$p(x)$ is always true no matter what value $x$ takes'.

\begin{definition}
\label{defUniversalQuantifier}
\index{universal quantifier}
\index{quantifier!universal}
O \textbf{quantificador universal} é o quantificador $\forall$ \inlatex{forall}\lindexmmc{forall}{$\forall$}; se $p(x)$ é uma fórmula lógica com variável livre $x$ com intervalo $X$, então $\forall x \in X,\, p(x)$ é a fórmula lógica definida de acordo com as seguintes regras:
\begin{itemizar}
\item \introrule{\forall} Se $p(x)$ pode ser derivado da suposição de que $x$ é um elemento arbitrário de $X$, então $\forall x \in X,\, p(x)$ ;
\item \elimrule{\forall} Se $a \in X$ e $\forall x \in X,\, p(x)$ for verdadeiro, então $p(a)$ é verdadeiro.
\end{itemizar}
A expressão $\forall x \in X,\, p(x)$ representa `para todo $x \in X$, $p(x)$'.
\end{definition}

\begin{center}
\begin{minipage}[b]{0.2\textwidth}
\centering
\begin{prooftree}
      \AxiomC{$[x \in X]$}
    \noLine
    \UnaryInfC{$\downleadsto$}
  \noLine
  \UnaryInfC{$p(x)$}
\UnaryInfC{$\forall x \in X,\, p(x)$}
\end{prooftree}
\end{minipage}
%
\hspace{20pt}
%
\begin{minipage}[b]{0.2\textwidth}
\centering
\begin{prooftree}
  \AxiomC{$\forall x \in X,\, p(x)$}
  \AxiomC{$a \in X$}
\BinaryInfC{$p(a)$}
\end{prooftree}
\end{minipage}
\end{center}

\begin{strategy}[Provando declarações universalmente quantificadas]
\label{strProvingUniversal}
Para provar uma proposição da forma $\forall x \in X,\, p(x)$, basta provar $p(x)$ para um elemento arbitrário $x \in X$---em outras palavras, prove $p(x)$ assumindo nada sobre a variável $x$ além de que ela é um elemento de $X$.
\end{strategy}

Frases úteis para introduzir uma variável arbitrária de um conjunto $X$ em uma prova incluem `fix $x \in X$' ou `let $x \in X$' ou `take $x \in X$'---mais sobre isso é discutido em \Cref{secVocabulary}.

As provas das seguintes proposições ilustram como poderia parecer uma prova de uma afirmação universalmente quantificada.

\begin{proposition}
\label{exSquareOfOddIntegerIsOdd}
O quadrado de todo inteiro ímpar é ímpar.
\end{proposition}

\begin{cproof}
Seja $n$ um número inteiro ímpar. Então $n=2k+1$ para algum $k \in \mathbb{Z}$ pelo teorema da divisão (\Cref{thmDivisionPreliminary}), e assim
\[n^2 = (2k+1)^2 = 4k^2+4k+1 = 2(2k^2+2k) + 1\]
Como $2k^2+2k \in \mathbb{Z}$, temos que $n^2$ é ímpar, conforme necessário.
\end{cproof}

Observe que na prova de \Cref{exSquareOfOddIntegerIsOdd}, não assumimos nada sobre $n$ além de que é um número inteiro ímpar.

\begin{proposition}
A expansão de base $10$ do quadrado de cada número natural termina em um dos dígitos $0$, $1$, $4$, $5$, $6$ ou $9$.
\end{proposition}

\begin{cproof}
Corrija $n \in \mathbb{N}$ e deixe
\[n=d_rd_{r-1} \pontos d_0\]
seja sua expansão base de $ 10$. Escrever
\[n=10m+d_0\]
onde $m \in \mathbb{N}$---isto é, $m$ é o número natural obtido removendo o dígito final de $n$. Então
\[n^2=100m^2+20md_0+d_0^2 = 10m(10m+2d_0)+d_0^2\]
Portanto, o dígito final de $n^2$ é igual ao dígito final de $d_0^2$. Mas os valores possíveis de $d_0^2$ são
\[0 \quad 1 \quad 4 \quad 9 \quad 16 \quad 25 \quad 36 \quad 49 \quad 64 \quad 81\]
todos terminando em um dos dígitos $0$, $1$, $4$, $5$, $6$ ou $9$.
\end{cproof}

\begin{exercise}
\label{exEveryIntegerIsRational}
Prove que todo número inteiro é racional.
\end{exercise}

\begin{exercise}
Prove que todo polinômio linear sobre $\mathbb{Q}$ tem uma raiz racional.
\end{exercise}

\begin{exercise}
Prove que, para todos os números reais $x$ e $y$, se $x$ é irracional, então $x+y$ e $x-y$ não são ambos racionais.
\hintlabel{exIrrationalPlusMinusRealNotBothRational}{%
Considere a soma de $x+y$ e $x-y$.
}
\end{exercise}

Antes de avançar muito, tome cuidado com o seguinte erro comum que surge ao lidar com quantificadores universais.

\begin{commonerror}
Considere a seguinte (não) prova da proposição $\forall n \in \mathbb{Z},\, n^2 \ge 0$.

\begin{quote}
Seja $n$ um número inteiro arbitrário, digamos $n=17$. Então $17^2 = 289 \ge 0$, então a afirmação é verdadeira.

\end{quote}

O erro cometido aqui é que o \textit{writer} escolheu um valor arbitrário de $n$, não o \textit{leitor}. (Na verdade, o argumento acima prova $\exists n \in \mathbb{Z},\, n^2 \ge 0$.)

A prova não deve fazer suposições sobre o valor de $n$, exceto que é um número inteiro. Aqui está uma prova correta:

\begin{quote}
Seja $n$ um número inteiro arbitrário. Ou $n \ge 0$ ou $n < 0$. Se $n \ge 0$ então $n^2 \ge 0$, já que o produto de dois números não negativos é não negativo; se $n<0$ então $n^2 \ge 0$, já que o produto de dois números negativos é positivo.
\end{quote}
\end{commonerror}

A estratégia sugerida pela regra de eliminação para o quantificador universal é aquela que utilizamos quase sem pensar nela.

\begin{strategy}[Assuming universally quantified statements]
\label{strAssumingUniversal}
Se uma suposição em uma prova tiver a forma $\forall x \in X,\, p(x)$, então podemos assumir que $p(a)$ é verdadeiro sempre que $a$ for um elemento de $X$.
\end{strategy}

\subsubsection*{Quantificação existencial (`existe', $\exists$)}

\begin{definition}
\label{defExistentialQuantifier}
\index{existential quantifier}
\index{quantifier!existential}
O \textbf{quantificador existencial} é o quantificador $\exists$ \inlatex{exists}\nindex{exists}{$\exists$}; se $p(x)$ é uma fórmula lógica com variável livre $x$ com intervalo $X$, então $\exists x \in X,\, p(x)$ é a fórmula lógica definida de acordo com as seguintes regras:
\begin{itemize}
\item \introrule{\exists} Se $a \in X$ e $p(a)$ forem verdadeiros, então $\exists x \in X,\, p(x)$;
\item \elimrule{\exists} Se $\exists x \in X,\, p(x)$ é verdadeiro, e $q$ pode ser derivado da suposição de que $p(a)$ é verdadeiro para algum $ fixo a \in X$, então $q$ é verdadeiro.
\end{itemize}
A expressão $\exists x \in X,\, p(x)$ representa `existe $x \in X$ tal que $p(x)$'.
\end{definition}

\begin{center}
\begin{minipage}[b]{0.25\textwidth}
\centering
\begin{prooftree}
  \AxiomC{$a \in X$}
  \AxiomC{$p(a)$}
\TagC{\introrule{\exists}}
\BinaryInfC{$\exists x \in X,\, p(x)$}
\end{prooftree}
\end{minipage}
%
\hspace{20pt}
%
\begin{minipage}[b]{0.4\textwidth}
\centering
\begin{prooftree}
  \AxiomC{$\exists x \in X,\, p(x)$}
      \AxiomC{$[a \in X], [p(a)]$}
    \noLine
  \UnaryInfC{$\downleadsto$}
  \noLine
\UnaryInfC{$q$}
\TagC{\elimrule{\exists}}
\BinaryInfC{$q$}
\end{prooftree}
\end{minipage}
\end{center}

\begin{strategy}[Provando afirmações existencialmente quantificadas]
\label{strProvingExistential}
Para provar uma proposição da forma $\exists x \in X,\, p(x)$, basta provar $p(a)$ para algum elemento específico $a \in X$, que deve ser explicitamente definido.
\end{strategy}

\begin{example}
Provamos que existe um número natural que é um quadrado perfeito e é um a mais que um cubo perfeito. Ou seja, provamos
\[\exists n \in \mathbb{N},\, ([\exists k \in \mathbb{Z},\, n=k^2] \wedge [\exists \ell \in \mathbb{Z} ,\, n=\ell^3 + 1])\]
Então defina $n=9$. Então $n=3^2$ e $n=2^3+1$, de modo que $n$ seja um quadrado perfeito e seja um a mais que um cubo perfeito, conforme necessário.
\end{example}

A seguinte proposição envolve uma afirmação existencialmente quantificada - na verdade, dizer que um polinômio $f(x)$ tem uma raiz real é dizer que $\existe x \in \mathbb{R},\, f(x) = 0$.

\begin{proposition}
Fixe $a \in \mathbb{R}$. O polinômio cúbico $x^3 + (1-a^2)x - a$ tem uma raiz real.
\end{proposition}
\begin{cproof}
Seja $f(x)=x^3+(1-a^2)x-a$. Define $x=a$; então
\[f(x) = f(a) = a^3 + (1-a^2)a - a = a^3 + a - a^3 - a = 0\]
Portanto, $a$ é uma raiz de $f(x)$. Como $a$ é real, $f(x)$ tem uma raiz real.
\end{cproof}

Os exercícios a seguir exigem que você prove afirmações existencialmente quantificadas.

\begin{exercise}
Prove que existe um número real que é irracional, mas cujo quadrado é racional.\end
{exercise}

\begin{exercise}
Prove que existe um número inteiro divisível por zero.
\hintlabel{exZeroDividesSomeInteger}{%
Observe atentamente a definição de divisibilidade (\Cref{defDivisionPreliminary}).
}
\end{exercise}

\begin{example}
Prove que, para todo $x,y \in \mathbb{Q}$, se $x < y$ então existe algum $z \in \mathbb{Q}$ com $x<z<y$.
\end{example}

A regra de eliminação para o quantificador existencial dá origem à seguinte estratégia de prova.

\begin{strategy}[Assumindo declarações existencialmente quantificadas]
\label{strAssumingExistential}
Se uma suposição na prova tiver a forma $\exists x \in X,\, p(x)$, então podemos introduzir uma nova variável $a \in X$ e assumir que $p(a)$ é verdadeira.
\end{strategy}

Deve-se dizer que ao usar a eliminação existencial em uma prova, a variável $a$ usada para denotar um elemento particular de $X$ para o qual $p(a)$ é verdadeiro não deveria já estar em uso anteriormente na prova.

\Cref{strAssumingExistential} é muito útil em provas de divisibilidade, uma vez que a expressão `$a$ divide $b$' é uma afirmação existencialmente quantificada --- isso foi\Cref{exLogicalFormulaeToEnglish}(a).

\begin{proposition}
Let $n \in \mathbb{Z}$. If $n^3$ is divisible by $3$, then $(n+1)^3 - 1$ is divisible by $3$.
\end{proposition}

\begin{cproof}
Suponha que $n^3$ seja divisível por $3$. Tome $q \in \mathbb{Z}$ tal que $n^3 = 3q$. Então
\begin{align*}
& (n+1)^3 - 1 && \\
&= (n^3 + 3n^2 + 3n + 1) - 1 && \text{expanding} \\
&= n^3 + 3n^2 + 3n && \text{simplifying} \\
&= 3q + 3n^2 + 3n && \text{since $n^3 = 3q$} \\
&= 3(q+n^2+n) && \text{factorising}
\end{align*}
Como $q+n^2+n \in \mathbb{Z}$, provamos que $(n+1)^3 - 1$ é divisível por $3$, conforme necessário.
\end{cproof}

\subsubsection*{Uniqueness}

O conceito de singularidade surge sempre que queremos usar a palavra “o”. Por exemplo, em \Cref{defBaseBExpansionPreliminary} definimos a expansão base-$b$ de um número natural $n$ como \textit{a} string $d_r d_{r-1} \dots d_1 d_0$ satisfazendo algumas propriedades. O problema com a palavra `o' aqui é que não sabemos de antemão se um número natural $n$ pode ter expansões de base $b$ diferentes de $d_r d_{r-1} \dots d_1 d_0$- -este fato realmente requer prova. Para provar esse fato, precisaríamos assumir que $e_s e_{s-1} \dots e_1 e_0$ ​​eram outra expansão de base $b$ de $n$, e provar que as strings $d_r d_{r-1} \dots d_1 d_0$ e $e_s e_{s-1} \dots e_1 e_0$ ​​são iguais --- isso é feito em \Cref{thmBaseBExpansion}.

A unicidade é normalmente associada a \textit{existência}, já que geralmente queremos saber se existe \textit{exatamente um} objeto que satisfaça uma propriedade. Isto motiva a definição do quantificador \textit{existencial único}, que codifica o que queremos dizer quando dizemos “há exatamente um $x \in X$ tal que $p(x)$ é verdadeiro”. A parte da `existência' garante que pelo menos um $x \in X$ torne $p(x)$ verdadeiro; a parte da `singularidade' garante que $x$ é o único elemento de $X$ que torna $p(x)$ verdadeiro.

\begin{definition}
\label{defUniqueExistentialQuantifier}
\index{quantifier!unique existential}
O \textbf{quantificador existencial único} é o quantificador $\exists !$ (\inlatex{exists!}\lindexmmc{\exists!}{$\exists!$}) definido de forma que $\exists ! x \in X,\, p(x)$ é uma abreviação de
\[(\underbrace{\exists x \in X,\, p(x)}_{\text{existence}}) ~ \wedge ~ (\underbrace{\forall a \in X,\, \forall b \in X,\, [(p(a) \wedge p(b)) \Rightarrow a=b]}_{\text{uniqueness}})\]
\end{definition}

\begin{example}
\label{exEveryPositiveRealHasUniqueSquareRoot}
Todo número real positivo tem uma única raiz quadrada positiva. Podemos escrever isso simbolicamente como
\[\forall a \in \mathbb{R},\, (a > 0 \Rightarrow \exists ! b \in \mathbb{R},\, (b > 0 \wedge b^2=a))\]
Lendo isto da esquerda para a direita, diz-se: para cada número real $a$, se $a$ for positivo, então existe um único número real $b$, que é positivo e cujo quadrado é $a$.
\end{example}

\begin{discussion}
Explique por que \Cref{defUniqueExistentialQuantifier} captura a noção de que existe `exatamente um' elemento $x \in X$ tornando $p(x)$ verdadeiro. Você consegue pensar em alguma outra maneira de $\exists ! x \in X,\, p(x)$ poderia ser definido?
\end{discussion}

\begin{strategy}[Provando declarações quantificadas existencialmente únicas]
Uma prova de uma declaração da forma $\exists ! x \in X,\, p(x)$, consiste em duas partes:
\begin{itemizar}
\item \textbf{Existence} --- provar que $\exists x \in X,\, p(x)$ é verdadeiro (por exemplo\ usando \Cref{strProvingExistential});
\item \textbf{Unicidade} --- deixe $a,b \in X$, assumir que $p(a)$ e $p(b)$ são verdadeiros, e derivar $a=b$.
\end{itemize}

Alternativamente, prove a existência para obter um $a \in X$ fixo tal que $p(a)$ seja verdadeiro, e então prove $\forall x \in X,\, [p(x) \Rightarrow x=a]$ .
\end{strategy}

\begin{example}
\label{exEveryPositiveRealHasUniqueSquareRootProof}
Nós provamos \Cref{exEveryPositiveRealHasUniqueSquareRoot}, ou seja, para cada real $a>0$ existe um único $b>0$ tal que $b^2=a$. Então primeiro corrija $a > 0$.
\begin{itemizar}
\item (\textbf{Existence}) O número real $\sqrt{a}$ é positivo e satisfaz $(\sqrt{a})^2=a$ por definição. Sua existência será adiada para um momento posterior, mas um argumento informal para sua existência poderia ser fornecido usando argumentos de `reta numérica' como em \Cref{chGettingStarted}.
\item (\textbf{Unicidade}) Sejam $y,z > 0$ números reais tais que $y^2=a$ e $z^2=a$. Então $y^2=z^2$. Reorganizando e fatorando rendimentos
\[(y-z)(y+z)=0\]
então $y-z=0$ ou $y+z=0$. Se $y+z=0$ então $z=-y$, e como $y>0$, isso significa que $z<0$. Mas isso contradiz a suposição de que $z>0$. Como tal, deve ser o caso de $y-z=0$ e, portanto, $y=z$, conforme necessário.
\end{itemize}
\end{example}

\begin{exercise}
\label{exExamplesOfUniqueExistentialQuantifier}
Para cada uma das proposições, escreva-a como uma fórmula lógica envolvendo o quantificador $\exists !$ e depois prove-a, usando a estrutura da fórmula lógica como guia.
\begin{enumerar}[(a)]
\item Para cada número real $a$, a equação $x^2+2ax+a^2=0$ tem exatamente uma solução real $x$.
\item Existe um único número real $a$ para o qual a equação $x^2+a^2=0$ tem uma solução real $x$.
\item Existe um número natural único com exatamente um divisor positivo.
\end{enumerate}
\end{exercise}

O quantificador existencial único desempenhará um papel importante quando estudarmos funções em \Cref{secFunctions}.

\subsection*{Quantifier alternation}
\index{quantifier alternation}
Compare as duas afirmações a seguir:
\begin{enumerate}[(i)] 
\item Para cada porta existe uma chave que pode destrancá-la.
\item Existe uma chave que pode destrancar todas as portas.
\end{enumerate}

Deixando as variáveis ​​$x$ e $y$ referirem-se a portas e chaves, respectivamente, e sendo $p(x,y)$ a afirmação `a porta $x$ pode ser destrancada pela chave $y$', podemos formular estas declarações como:
\begin{enumerate}[(i)] 
\item $\forall x,\, \exists y,\, p(x,y)$
\item $\exists y,\, \forall x,\, p(x,y)$
\end{enumerate}

Este é um exemplo típico do "mundo real" do que é conhecido como \textit{alternância de quantificadores} --- as duas afirmações diferem apenas pela ordem dos quantificadores carregados antecipadamente e, ainda assim, dizem coisas muito diferentes. A afirmação (i) exige que todas as portas possam ser destrancadas, mas as chaves podem ser diferentes para portas diferentes; a afirmação (ii), contudo, implica a existência de algum tipo de “chave mestra” que pode destrancar todas as portas.

Aqui está outro exemplo com uma natureza mais matemática:

\begin{exercise}
Seja $p(x,y)$ a afirmação `$x + y$ é par'.
\begin{itemize}
\item Prova que $\forall x \in \mathbb{Z},\, \exists y \in \mathbb{Z},\, p(x,y)$ is true.
\item Prova que $\exists y \in \mathbb{Z},\, \forall x \in \mathbb{Z},\, p(x,y)$ is false.
\end{itemize}
\end{exercise}

Em ambos os exemplos anteriores, você deve ter notado que a instrução `$\forall\exists$' diz algo \textit{mais fraco} do que a instrução `$\exists\forall$' --- em certo sentido, é mais fácil para tornar uma declaração $\forall\exists$ verdadeira do que tornar uma declaração $\exists\forall$ verdadeira.

Esta ideia está formalizada no \Cref{thmQuantifierAlternation} abaixo, que apesar de sua natureza abstrata, possui uma prova extremamente simples.

\begin{theorem}
\label{thmQuantifierAlternation}
Seja $p(x,y)$ uma fórmula lógica com variáveis ​​livres $x \in X$ e $y \in Y$. Então
\[\existe y \in Y,\, \forall x \in X,\, p(x,y) \Rightarrow \forall x \in X,\, \existe y \in Y,\, p(x, e)\]
\end{theorem}

\begin{cproof}
Suponha que $\exists y \in Y,\, \forall x \in X,\, p(x,y)$ seja verdadeiro. Precisamos provar $\forall x \in X,\, \exists y \in Y,\, p(x,y)$, então fixe $a \in X$---nosso objetivo agora é provar $\ existe y \in Y,\, p(a,y)$.

Usando nossa suposição $\exists y \in Y,\, \forall x \in X,\, p(x,y)$, podemos escolher $b \in Y$ tal que $\forall x,\, p( x,b)$ é verdadeiro. Mas então $p(a, b)$ é verdadeiro, então provamos que $\exists y \in Y,\, p(a,y)$, conforme necessário.
\end{cproof}

Declarações da forma $\exists y \in Y,\, \forall x \in X,\, p(x,y)$ implicam algum tipo de \textit{uniformidade}: um valor de $y$ fazendo $\forall x \in X,\, p(x,y)$ true pode ser pensado como uma solução "tamanho único" para o problema de provar $p(x,y)$ para um dado $x \in X$ . Mais tarde em seus estudos, é provável que você encontre a palavra “uniforme” muitas vezes – é precisamente a essa noção de alternância de quantificadores que a palavra “uniforme” se refere.
\begin{tldr}{secVariablesQuantifiers}

\subsubsection*{Variables and logical formulae}

\begin{tldrlist}
\tldritem{defFreeVariable}
Uma variável é \textit{free} se um valor puder substituí-la; caso contrário, é \textit{vinculado}.

\tldritem{defPredicate}
Um \textit{predicado} $p(x,y,z,\dots)$ representa uma declaração envolvendo algumas variáveis ​​livres $x,y,z,\dots{}$ que se torna uma proposição quando os valores das variáveis ​​são substituídos.

\tldritem{defLogicalFormula}
Uma \textit{fórmula lógica} é uma expressão construída usando predicados, operadores lógicos e quantificadores.
\end{tldrlist}

\subsubsection*{Quantificadores}

\begin{tldrlist}
\tldritem{defUniversalQuantifier}
O \textit{quantificador universal} ($\forall$) representa `para todos'. Provamos $\forall x \in X,\, p(x)$ introduzindo uma variável $x \in X$ e, assumindo nada sobre $x$ além de que é um elemento de $X$, derivando $p (x)$; podemos usar uma suposição da forma $\forall x \in X,\, p(x)$ deduzindo $p(a)$ sempre que soubermos que $a \in X$.

\tldritem{defExistentialQuantifier}
O \textit{quantificador existencial} ($\exists$) representa `existem\pontos{} tais que\pontos{}'. Provamos $\exists x \in X,\, p(x)$ encontrando (com prova) um elemento $a \in X$ para o qual $p(a)$ é verdadeiro; podemos usar uma suposição da forma $\exists x \in X,\, p(x)$ introduzindo uma variável $a \in X$ e assumindo que $p(a)$ é verdadeiro.

\tldritem{defUniqueExistentialQuantifier}
O \textit{quantificador existencial único} ($\exists !)$ representa `existe um único\dots{} tal que\dots{}'. Provamos que $\existe! x \in X,\, p(x)$ em duas partes: (1) Prove que $\existe x \in X,\, p(x)$; e (2) Seja $a,b \in X$, assuma que $p(a)$ e $p(b)$ são verdadeiros e derive $a=b$.
\end{tldrlist}

\subsubsection*{Quantifier alternation}

\begin{tldrlist}
\tldritem{thmQuantifierAlternation}
Para qualquer fórmula lógica $p(x,y)$, temos que $\exists y \in Y,\, \forall x \in X,\, p(x,y)$ implica $\forall x \in X ,\, \existe y \in Y,\, p(x,y)$, mas não necessariamente vice-versa.
\end{tldrlist}

\end{tldr}
